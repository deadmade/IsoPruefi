<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>IsoPruefi Arduino: src/storage.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">IsoPruefi Arduino
   </div>
   <div id="projectbrief">Arduino firmware for IsoPruefi temperature monitoring system</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">storage.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="storage_8h_source.html">storage.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a96fdb72e162a1db39c1bbd4c4409fa30" id="r_a96fdb72e162a1db39c1bbd4c4409fa30"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="storage_8cpp.html#a96fdb72e162a1db39c1bbd4c4409fa30">SaveTempToBatchCsv</a> (const DateTime &amp;now, float celsius, int sequence)</td></tr>
<tr class="memdesc:a96fdb72e162a1db39c1bbd4c4409fa30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves sensor data to CSV files in batch mode during network outages.  <br /></td></tr>
<tr class="separator:a96fdb72e162a1db39c1bbd4c4409fa30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55c16a7ff3a0de78ba9d9544ae6b817e" id="r_a55c16a7ff3a0de78ba9d9544ae6b817e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="storage_8cpp.html#a55c16a7ff3a0de78ba9d9544ae6b817e">BuildJson</a> (JsonDocument &amp;doc, float celsius, const DateTime &amp;now, int sequence)</td></tr>
<tr class="memdesc:a55c16a7ff3a0de78ba9d9544ae6b817e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builds a JSON document from live sensor data for real-time transmission.  <br /></td></tr>
<tr class="separator:a55c16a7ff3a0de78ba9d9544ae6b817e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb2bae059bb1334c97c002103b23496a" id="r_acb2bae059bb1334c97c002103b23496a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="storage_8cpp.html#acb2bae059bb1334c97c002103b23496a">BuildRecoveryJsonFromBatchCsv</a> (JsonDocument &amp;doc, const char *filepath, const DateTime &amp;now)</td></tr>
<tr class="memdesc:acb2bae059bb1334c97c002103b23496a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builds a JSON document from CSV batch data for recovery transmission.  <br /></td></tr>
<tr class="separator:acb2bae059bb1334c97c002103b23496a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af573256ad73f9915cd6e946f4de1a68b" id="r_af573256ad73f9915cd6e946f4de1a68b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="storage_8cpp.html#af573256ad73f9915cd6e946f4de1a68b">DeleteCsvFile</a> (const char *filepath)</td></tr>
<tr class="memdesc:af573256ad73f9915cd6e946f4de1a68b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes a CSV file from the SD card storage system.  <br /></td></tr>
<tr class="separator:af573256ad73f9915cd6e946f4de1a68b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a633b6d91d2a6b9fe94d49679bf76cf8d" id="r_a633b6d91d2a6b9fe94d49679bf76cf8d"><td class="memItemLeft" align="right" valign="top">static const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="storage_8cpp.html#a633b6d91d2a6b9fe94d49679bf76cf8d">FOLDER_NAME_BUFFER_SIZE</a> = 8</td></tr>
<tr class="memdesc:a633b6d91d2a6b9fe94d49679bf76cf8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer size for folder names (e.g., "2025")  <br /></td></tr>
<tr class="separator:a633b6d91d2a6b9fe94d49679bf76cf8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82c6a24dff83f73f64ebefbce62f03c1" id="r_a82c6a24dff83f73f64ebefbce62f03c1"><td class="memItemLeft" align="right" valign="top">static const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="storage_8cpp.html#a82c6a24dff83f73f64ebefbce62f03c1">CURRENT_FILENAME_BUFFER_SIZE</a> = 32</td></tr>
<tr class="memdesc:a82c6a24dff83f73f64ebefbce62f03c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer size for storing the current active CSV filename.  <br /></td></tr>
<tr class="separator:a82c6a24dff83f73f64ebefbce62f03c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad779ef8fe37c1e5b281818b8a1a9c4e7" id="r_ad779ef8fe37c1e5b281818b8a1a9c4e7"><td class="memItemLeft" align="right" valign="top">static const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="storage_8cpp.html#ad779ef8fe37c1e5b281818b8a1a9c4e7">CSV_LINE_BUFFER_SIZE</a> = 64</td></tr>
<tr class="memdesc:ad779ef8fe37c1e5b281818b8a1a9c4e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer size for reading individual CSV lines.  <br /></td></tr>
<tr class="separator:ad779ef8fe37c1e5b281818b8a1a9c4e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58a44f18fcb1ee66a6ffec02016568a3" id="r_a58a44f18fcb1ee66a6ffec02016568a3"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="storage_8cpp.html#a58a44f18fcb1ee66a6ffec02016568a3">MAX_LINES_PER_CSV_FILE</a> = 5</td></tr>
<tr class="memdesc:a58a44f18fcb1ee66a6ffec02016568a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number of sensor readings per CSV batch file.  <br /></td></tr>
<tr class="separator:a58a44f18fcb1ee66a6ffec02016568a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03d41aa3d99b4ac003b16bdfc0155977" id="r_a03d41aa3d99b4ac003b16bdfc0155977"><td class="memItemLeft" align="right" valign="top">static char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="storage_8cpp.html#a03d41aa3d99b4ac003b16bdfc0155977">currentFilename</a> [<a class="el" href="storage_8cpp.html#a82c6a24dff83f73f64ebefbce62f03c1">CURRENT_FILENAME_BUFFER_SIZE</a>] = &quot;&quot;</td></tr>
<tr class="separator:a03d41aa3d99b4ac003b16bdfc0155977"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec9be327bdba67f54696d8adb23520cd" id="r_aec9be327bdba67f54696d8adb23520cd"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="storage_8cpp.html#aec9be327bdba67f54696d8adb23520cd">linesInFile</a> = 0</td></tr>
<tr class="memdesc:aec9be327bdba67f54696d8adb23520cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Static variable to track the number of lines in the current CSV file.  <br /></td></tr>
<tr class="separator:aec9be327bdba67f54696d8adb23520cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a55c16a7ff3a0de78ba9d9544ae6b817e" name="a55c16a7ff3a0de78ba9d9544ae6b817e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55c16a7ff3a0de78ba9d9544ae6b817e">&#9670;&#160;</a></span>BuildJson()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BuildJson </td>
          <td>(</td>
          <td class="paramtype">JsonDocument &amp;&#160;</td>
          <td class="paramname"><em>doc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>celsius</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const DateTime &amp;&#160;</td>
          <td class="paramname"><em>now</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sequence</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Builds a JSON document from live sensor data for real-time transmission. </p>
<p>This function creates a properly formatted JSON document containing current sensor readings for immediate MQTT transmission. The JSON structure follows a standardized format for IoT temperature monitoring systems with metadata support.</p>
<p>**JSON Structure:** ```json { "timestamp": 1737024000, "value": [25.12345], "sequence": 42, "meta": {} } ```</p>
<p>**Data Precision:**</p><ul>
<li>Temperature: 5 decimal places for high precision monitoring</li>
<li>Timestamp: Unix timestamp (seconds since epoch)</li>
<li>Sequence: Integer measurement counter</li>
<li>Value array: Supports multiple sensor readings</li>
</ul>
<p>**Performance Considerations:**</p><ul>
<li>Modifies existing JsonDocument for memory efficiency</li>
<li>Clears previous data to prevent accumulation</li>
<li>Optimized for embedded systems with limited memory</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">doc</td><td>JsonDocument reference to populate (cleared before use) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">celsius</td><td>Temperature reading in Celsius (stored with 5 decimal precision) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">now</td><td>Current timestamp for the measurement </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sequence</td><td>Sequence number for the measurement</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The function clears the document before populating new data </dd></dl>
<dl class="section see"><dt>See also</dt><dd>buildRecoveredJsonFromCsv() for batch recovery JSON format </dd>
<dd>
saveToCsvBatch() for CSV fallback storage format </dd></dl>

</div>
</div>
<a id="acb2bae059bb1334c97c002103b23496a" name="acb2bae059bb1334c97c002103b23496a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb2bae059bb1334c97c002103b23496a">&#9670;&#160;</a></span>BuildRecoveryJsonFromBatchCsv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BuildRecoveryJsonFromBatchCsv </td>
          <td>(</td>
          <td class="paramtype">JsonDocument &amp;&#160;</td>
          <td class="paramname"><em>doc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filepath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const DateTime &amp;&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Builds a JSON document from CSV batch data for recovery transmission. </p>
<p>This function processes stored CSV data files and converts them into JSON format for batch transmission when network connectivity is restored. It handles multiple measurements in a metadata array structure for efficient network utilization during recovery operations.</p>
<p>**Recovery JSON Structure:** ```json { "timestamp": 1737024000, "sequence": null, "value": [null], "meta": { "t": [1737024000, 1737024060, ..], "v": [25.12345, 25.12567, ...], "s": [42, 43, ...] } } ```</p>
<p>**Processing Logic:**</p><ul>
<li>Reads each line from the specified CSV file using secure fgets()</li>
<li>Parses CSV format: timestamp,temperature,sequence using strtok()</li>
<li>Creates individual JSON objects for each measurement in meta array</li>
<li>Uses null placeholders for top-level value and sequence fields</li>
</ul>
<p>**Error Handling:**</p><ul>
<li>Returns early if file cannot be opened</li>
<li>Skips malformed lines during CSV parsing</li>
<li>Continues processing even if some lines fail</li>
<li>Reports total number of successfully recovered entries</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">doc</td><td>JsonDocument reference to populate (cleared before use) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">filepath</td><td>Path to the CSV file containing batch sensor data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">now</td><td>Current timestamp for the recovery operation</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Uses strtok() for safe CSV parsing with buffer protection </dd>
<dd>
Clears the document before populating new batch data </dd></dl>
<dl class="section see"><dt>See also</dt><dd>saveToCsvBatch() for CSV storage format details </dd>
<dd>
sendPendingData() in <a class="el" href="mqtt_8cpp.html">mqtt.cpp</a> for recovery transmission </dd></dl>

</div>
</div>
<a id="af573256ad73f9915cd6e946f4de1a68b" name="af573256ad73f9915cd6e946f4de1a68b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af573256ad73f9915cd6e946f4de1a68b">&#9670;&#160;</a></span>DeleteCsvFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DeleteCsvFile </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filepath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes a CSV file from the SD card storage system. </p>
<p>This function provides safe file deletion with error handling and logging. It's primarily used during the data recovery process to clean up CSV files after they have been successfully transmitted via MQTT.</p>
<p>**Safety Features:**</p><ul>
<li>Checks file existence before attempting deletion</li>
<li>Provides detailed success/failure logging</li>
<li>Handles SD card filesystem errors gracefully</li>
</ul>
<p>**Use Cases:**</p><ul>
<li>Cleanup after successful batch data transmission</li>
<li>Manual file management during storage maintenance</li>
<li>Recovery process completion in data transmission pipeline</li>
</ul>
<p>**Error Scenarios:**</p><ul>
<li>File does not exist (silently ignored)</li>
<li>SD card write protection or filesystem errors</li>
<li>Insufficient permissions or corrupted filesystem</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">filepath</td><td>Complete path to the CSV file to be deleted</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Function silently ignores attempts to delete non-existent files </dd>
<dd>
All operations are logged to Serial for debugging and monitoring </dd></dl>
<dl class="section see"><dt>See also</dt><dd>buildRecoveredJsonFromCsv() for file processing before deletion </dd>
<dd>
sendPendingData() in <a class="el" href="mqtt_8cpp.html">mqtt.cpp</a> for recovery workflow integration </dd></dl>

</div>
</div>
<a id="a96fdb72e162a1db39c1bbd4c4409fa30" name="a96fdb72e162a1db39c1bbd4c4409fa30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96fdb72e162a1db39c1bbd4c4409fa30">&#9670;&#160;</a></span>SaveTempToBatchCsv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SaveTempToBatchCsv </td>
          <td>(</td>
          <td class="paramtype">const DateTime &amp;&#160;</td>
          <td class="paramname"><em>now</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>celsius</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sequence</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Saves sensor data to CSV files in batch mode during network outages. </p>
<p>This function implements intelligent batch CSV storage that creates new files when needed and manages file rotation. It's designed as a fallback mechanism when MQTT transmission is unavailable due to network connectivity issues.</p>
<p>**Batch Management:**</p><ul>
<li>Maintains a static filename for the current active CSV file</li>
<li>Creates new files when the current file reaches maximum line limit</li>
<li>Uses timestamp-based filenames for uniqueness and organization</li>
</ul>
<p>**File Organization:**</p><ul>
<li>Creates date-based folders automatically (e.g., "2025/")</li>
<li>Stores files with minute-precision timestamps in filename</li>
<li>Format: "YYYY/MMDDHHMM.csv" (e.g., "2025/08051430.csv")</li>
</ul>
<p>**Data Format:**</p><ul>
<li>CSV format: timestamp,temperature,sequence</li>
<li>Temperature precision: 5 decimal places</li>
<li>Unix timestamp for absolute time reference</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">now</td><td>Current timestamp for folder creation and data logging </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">celsius</td><td>Temperature reading in Celsius (stored with 5 decimal precision) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sequence</td><td>Sequence number for the measurement</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function uses static variables to maintain state across calls </dd>
<dd>
Files are automatically rotated after MAX_LINES_PER_CSV_FILE entries </dd></dl>
<dl class="section see"><dt>See also</dt><dd>createFolderName() for folder naming convention </dd>
<dd>
createFilename() for CSV filename generation </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ad779ef8fe37c1e5b281818b8a1a9c4e7" name="ad779ef8fe37c1e5b281818b8a1a9c4e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad779ef8fe37c1e5b281818b8a1a9c4e7">&#9670;&#160;</a></span>CSV_LINE_BUFFER_SIZE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const size_t CSV_LINE_BUFFER_SIZE = 64</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Buffer size for reading individual CSV lines. </p>

</div>
</div>
<a id="a82c6a24dff83f73f64ebefbce62f03c1" name="a82c6a24dff83f73f64ebefbce62f03c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82c6a24dff83f73f64ebefbce62f03c1">&#9670;&#160;</a></span>CURRENT_FILENAME_BUFFER_SIZE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const size_t CURRENT_FILENAME_BUFFER_SIZE = 32</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Buffer size for storing the current active CSV filename. </p>

</div>
</div>
<a id="a03d41aa3d99b4ac003b16bdfc0155977" name="a03d41aa3d99b4ac003b16bdfc0155977"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03d41aa3d99b4ac003b16bdfc0155977">&#9670;&#160;</a></span>currentFilename</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char currentFilename[<a class="el" href="storage_8cpp.html#a82c6a24dff83f73f64ebefbce62f03c1">CURRENT_FILENAME_BUFFER_SIZE</a>] = &quot;&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a633b6d91d2a6b9fe94d49679bf76cf8d" name="a633b6d91d2a6b9fe94d49679bf76cf8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a633b6d91d2a6b9fe94d49679bf76cf8d">&#9670;&#160;</a></span>FOLDER_NAME_BUFFER_SIZE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const size_t FOLDER_NAME_BUFFER_SIZE = 8</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Buffer size for folder names (e.g., "2025") </p>

</div>
</div>
<a id="aec9be327bdba67f54696d8adb23520cd" name="aec9be327bdba67f54696d8adb23520cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec9be327bdba67f54696d8adb23520cd">&#9670;&#160;</a></span>linesInFile</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int linesInFile = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Static variable to track the number of lines in the current CSV file. </p>

</div>
</div>
<a id="a58a44f18fcb1ee66a6ffec02016568a3" name="a58a44f18fcb1ee66a6ffec02016568a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58a44f18fcb1ee66a6ffec02016568a3">&#9670;&#160;</a></span>MAX_LINES_PER_CSV_FILE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int MAX_LINES_PER_CSV_FILE = 5</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Maximum number of sensor readings per CSV batch file. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
